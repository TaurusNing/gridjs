<body>
<canvas id="test"></canvas>
<script src="../gridjs.js"></script>
<script>
var im, center, i, x, y, vq,
    canvas = document.getElementById('test'),
    colors = ['r', 'g', 'b', 'c', 'm', 'y'],
    points = [],
    p = {
      'G' : [],
      'a' : []
    };

for (y = 0; y < 500; y++) {
  p.G[y] = [];
  p.a[y] = [];
  for (x = 0; x < 500; x++) {
    p.G[y][x] = 100;
    p.a[y][x] = 1;
  }
}
p.r = p.G;
p.g = p.G;
p.b = p.G;

for (i = 0; i < 300; i++) {
  x = Math.round(Math.random() * 500);
  y = Math.round(Math.random() * 500);
  points[i] = [x, y];
}

vq = gridjs.kmeans(points, 6);
console.log(vq)
im = gridjs.getImageObjectFromPixel(p);
im.rgba();
im.hold();
for (i = 0; i < vq.cluster.length; i++) {
  im.plot(vq.cluster[i], colors[i % 6] + '.');
}
im.plot(vq.center, 'k*');
im.flush();
im.show(canvas);
</script>
</body>